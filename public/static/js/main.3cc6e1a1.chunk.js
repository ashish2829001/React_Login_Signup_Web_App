(this.webpackJsonplogin_signup_app=this.webpackJsonplogin_signup_app||[]).push([[0],{131:function(e,t,s){"use strict";s.r(t);var n=s(2),a=s.n(n),r=s(37),c=s.n(r),l=s(41),i=s(11),o=s.n(i),d=s(15),m=s(9),j=s(1);var u=function(e){var t=e.titleLink,s=e.first,n=e.firstLink,a=e.second,r=e.secLink,c=e.setIsAuth;return Object(j.jsxs)("nav",{className:"navbar navbar-expand-lg bg-success p-2 text-dark bg-opacity-10",style:{height:"7vh"},children:[Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsx)(m.b,{className:"navbar-brand",to:t,children:"MyApp"})}),Object(j.jsx)("div",{className:"collapse navbar-collapse ",id:"navbarSupportedContent",children:Object(j.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[""!==s?Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(m.b,{className:"nav-link active fw-bold","aria-current":"page",to:n,children:s})}):"",""!==s?Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(m.b,{className:"nav-link",to:r,children:a})}):Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("p",{onClick:function(e){localStorage.clear(),alert("Logging you out!"),c(!1)},style:{cursor:"pointer"},className:"nav-link",children:"Logout"})})]})})]})};var b=function(){return Object(j.jsx)("footer",{className:"p-3 bg-dark text-white text-center",style:{height:"7vh"},children:"CopyRight \xa9 2021 ---- Developed by Ashish Pratap Singh"})};var p=function(e){var t=e.setIsAuth;function s(){return(s=Object(d.a)(o.a.mark((function e(s){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),n={userName:document.getElementById("username").value,password:document.getElementById("password").value},a=JSON.stringify(n),e.prev=3,e.next=6,fetch("http://127.0.0.1:3001/api/login",{method:"POST",headers:{"Content-Type":"application/json",validationKey:"######^&dmckjfsjkdkfj$$$"},body:a});case 6:return r=e.sent,e.next=9,r.json();case 9:(r=e.sent).success?(localStorage.setItem("details",JSON.stringify(r.details)),t(!0)):(document.getElementById("username").value="",document.getElementById("password").value="",alert(r.message)),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",alert("Internal Server Error. Try again later!"));case 16:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}return Object(j.jsxs)("form",{onSubmit:function(e){!function(e){s.apply(this,arguments)}(e)},className:"container-sm",children:[Object(j.jsx)("p",{className:"fw-bold text-center",children:"Login Here"}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"username"})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",id:"password"})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"})]})},h=s(3),x=s(40),f=s.n(x);var O=function(){var e=Object(h.f)();return Object(j.jsx)("form",{onSubmit:function(t){!function(t){t.preventDefault();var s=document.getElementById("name").value,n=document.getElementById("password1").value,a=document.getElementById("username1").value;if(""===s||""===a||""===n)return alert("Name, Username or Password is empty!");if(!1===f.a.isStrongPassword(n,{minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1}))return alert("Please enter a strong password!");var r={name:s,userName:a,password:n},c=JSON.stringify(r);fetch("http://127.0.0.1:3001/api/register",{method:"POST",headers:{"Content-Type":"application/json",validationKey:"######^&dmckjfsjkdkfj$$$"},body:c}).then((function(e){return e.json()})).then((function(t){if(!t.success)return document.getElementById("name").value="",document.getElementById("username1").value="",document.getElementById("password1").value="",alert(t.message);alert(t.message+"\n Please Login to continue."),e.push("/")})).catch((function(e){return alert("Internal server Error. Try again later!")}))}(t)},className:"container-sm",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"fw-bold text-center",children:"Signup Here"}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"name"})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"username1"})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",id:"password1"})]}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Signup"})]})})};var g=function(){var e=localStorage.getItem("details"),t=JSON.parse(e);return Object(j.jsx)("div",{className:"card",style:{width:"600px",borderRadius:"5px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#edf5e4"},children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("h5",{className:"card-title",children:["NAME - ",t.name]}),Object(j.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Username - ",t.userName," "]}),Object(j.jsx)("p",{className:"card-text",children:"Welcome to the DashBoard."})]})})};var v=function(){var e={backgroundColor:"",width:"50vw",height:"86vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",margin:"auto"},t=function(){var e=Object(d.a)(o.a.mark((function e(t){var s,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={token:t},n=JSON.stringify(s),e.prev=2,e.next=5,fetch("http://127.0.0.1:3001/api/auth",{method:"POST",headers:{"Content-Type":"application/json",validationKey:"######^&dmckjfsjkdkfj$$$"},body:n});case 5:return a=e.sent,e.next=8,a.json();case 8:(a=e.sent).success&&(localStorage.setItem("details",JSON.stringify(a.details)),c(!0)),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",alert("Internal Server Error. Please visit later!"));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),s=Object(n.useState)(!1),a=Object(l.a)(s,2),r=a[0],c=a[1],i=localStorage.getItem("details");return null!==i&&t(JSON.parse(i).token),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(m.a,{children:r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u,{titleLink:"/",first:"",firstLink:"",second:"Logout",secLink:"",setIsAuth:c}),Object(j.jsx)("div",{style:e,children:Object(j.jsx)(g,{style:e})}),Object(j.jsx)(b,{})]}):Object(j.jsxs)(h.c,{children:[Object(j.jsx)(h.a,{exact:!0,path:"/",children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u,{titleLink:"/",first:"Login",firstLink:"",second:"Signup",secLink:"/signup"}),Object(j.jsx)("div",{style:e,children:Object(j.jsx)(p,{setIsAuth:c,style:e})}),Object(j.jsx)(b,{})]})}),Object(j.jsx)(h.a,{exact:!0,path:"/signup",children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u,{titleLink:"/signup",first:"Signup",firstLink:"/signup",second:"Login",secLink:""}),Object(j.jsx)("div",{style:e,children:Object(j.jsx)(O,{style:e})}),Object(j.jsx)(b,{})]})})]})})})};c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.3cc6e1a1.chunk.js.map